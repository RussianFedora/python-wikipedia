From 934c384b729ac0e40ff12c84ef2a7e65ad44616a Mon Sep 17 00:00:00 2001
From: region51 <murmansksity@gmail.com>
Date: Thu, 19 May 2016 12:30:32 +0300
Subject: [PATCH] __version__ fix

Signed-off-by: region51 <murmansksity@gmail.com>
---
 setup.py               | 7 ++++---
 wikipedia/__init__.py  | 2 +-
 wikipedia/wikipedia.py | 7 +++++--
 3 files changed, 10 insertions(+), 6 deletions(-)

diff --git a/setup.py b/setup.py
index c75364b..af99a56 100644
--- a/setup.py
+++ b/setup.py
@@ -3,7 +3,7 @@ import codecs
 import os
 import re
 import setuptools
-from wikipedia import __init__
+from wikipedia import get_version
 
 
 def local_file(file):
@@ -22,7 +22,7 @@ install_reqs = [
 
 setuptools.setup(
   name = "wikipedia",
-  version = __init__.__version__,
+  version = get_version(),
   author = "Tyler Barrus",
   author_email = "barrust@gmail.com",
   description = "Wikipedia API for Python (forked from https://github.com/goldsmith/Wikipedia)",
@@ -38,5 +38,6 @@ setuptools.setup(
     'License :: OSI Approved :: MIT License',
     'Programming Language :: Python',
     'Programming Language :: Python :: 3'
-  ]
+  ],
+  test_suite="tests"
 )
diff --git a/wikipedia/__init__.py b/wikipedia/__init__.py
index 45c7ff1..e272f69 100644
--- a/wikipedia/__init__.py
+++ b/wikipedia/__init__.py
@@ -1,4 +1,4 @@
 from .wikipedia import *
 from .exceptions import *
 
-__version__ = "1.4.2"
+__version__ = get_version()
diff --git a/wikipedia/wikipedia.py b/wikipedia/wikipedia.py
index 167c0cd..7940aab 100644
--- a/wikipedia/wikipedia.py
+++ b/wikipedia/wikipedia.py
@@ -5,18 +5,21 @@ import time
 from bs4 import BeautifulSoup
 from datetime import datetime, timedelta
 from decimal import Decimal
-import __init__
 
 from .exceptions import (
     PageError, DisambiguationError, RedirectError, HTTPTimeoutError,
     WikipediaException, ODD_ERROR_MESSAGE)
 from .util import cache, stdout_encode, debug
 
+def get_version():
+    ''' Return Version Number'''
+    return "1.4.2"
+
 API_URL = 'http://en.wikipedia.org/w/api.php'
 RATE_LIMIT = False
 RATE_LIMIT_MIN_WAIT = None
 RATE_LIMIT_LAST_CALL = None
-USER_AGENT = 'python-wikipedia/{0} (https://github.com/barrust/Wikipedia/) BOT'.format(__init__.__version__)
+USER_AGENT = 'python-wikipedia/{0} (https://github.com/barrust/Wikipedia/) BOT'.format(get_version())
 SESSION = None
 
 
-- 
2.5.5

